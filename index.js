// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("buffer")):"function"==typeof define&&define.amd?define(["buffer"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ns=t(e.require$$0)}(this,(function(e){"use strict";var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var r,n=Object.defineProperty,i=Object.prototype,o=i.toString,a=i.__defineGetter__,u=i.__defineSetter__,f=i.__lookupGetter__,s=i.__lookupSetter__;r=function(){try{return t({},"x",{}),!0}catch(e){return!1}}()?n:function(e,t,r){var n,l,c,h;if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((l="value"in r)&&(f.call(e,t)||s.call(e,t)?(n=e.__proto__,e.__proto__=i,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),c="get"in r,h="set"in r,l&&(c||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return c&&a&&a.call(e,t,r.get),h&&u&&u.call(e,t,r.set),e};var l=r;function c(e,t,r){l(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})}function h(e,t,r){l(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function p(e){return"number"==typeof e}var y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function g(){return y&&"symbol"==typeof Symbol.toStringTag}var m=Object.prototype.toString;var d=Object.prototype.hasOwnProperty;function b(e,t){return null!=e&&d.call(e,t)}var w="function"==typeof Symbol?Symbol.toStringTag:"";var v=g()?function(e){var t,r,n;if(null==e)return m.call(e);r=e[w],t=b(e,w);try{e[w]=void 0}catch(t){return m.call(e)}return n=m.call(e),t?e[w]=r:delete e[w],n}:function(e){return m.call(e)},_=Number,E=_.prototype.toString;var T=g();function A(e){return"object"==typeof e&&(e instanceof _||(T?function(e){try{return E.call(e),!0}catch(e){return!1}}(e):"[object Number]"===v(e)))}function j(e){return p(e)||A(e)}function O(e,t){if(!(this instanceof O))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!p(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!p(t))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+t+"`.");return l(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),l(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}h(j,"isPrimitive",p),h(j,"isObject",A),h(O,"BYTES_PER_ELEMENT",8),h(O.prototype,"BYTES_PER_ELEMENT",8),h(O.prototype,"byteLength",16),h(O.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),h(O.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var x="function"==typeof Math.fround?Math.fround:null,V="function"==typeof Float32Array;var I=Number.POSITIVE_INFINITY,R="function"==typeof Float32Array?Float32Array:null;var S,L="function"==typeof Float32Array?Float32Array:void 0;S=function(){var e,t,r;if("function"!=typeof R)return!1;try{t=new R([1,3.14,-3.14,5e40]),r=t,e=(V&&r instanceof Float32Array||"[object Float32Array]"===v(r))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===I}catch(t){e=!1}return e}()?L:function(){throw new Error("not implemented")};var B=S,U=new B(1);var k="function"==typeof x?x:function(e){return U[0]=e,U[0]};function N(e,t){if(!(this instanceof N))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!p(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!p(t))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+t+"`.");return l(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:k(e)}),l(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:k(t)}),this}function C(e){return e instanceof O||e instanceof N||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im}function M(e){return"boolean"==typeof e}h(N,"BYTES_PER_ELEMENT",4),h(N.prototype,"BYTES_PER_ELEMENT",4),h(N.prototype,"byteLength",8),h(N.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),h(N.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e}));var P=Boolean.prototype.toString;var F=g();function Y(e){return"object"==typeof e&&(e instanceof Boolean||(F?function(e){try{return P.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===v(e)))}function D(e){return M(e)||Y(e)}function W(){return new Function("return this;")()}h(D,"isPrimitive",M),h(D,"isObject",Y);var G="object"==typeof self?self:null,$="object"==typeof window?window:null,z="object"==typeof global?global:null;function J(e){if(arguments.length){if(!M(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return W()}if(G)return G;if($)return $;if(z)return z;throw new Error("unexpected error. Unable to resolve global object.")}var X=J();function Z(e,t,r){l(e,t,{configurable:!1,enumerable:!1,get:r})}var q={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function H(e){return Math.abs(e)}function K(e,t){return t&&(2===e||3===e)}function Q(e,t){return t&&(1===e||3===e)}function ee(e,t,r){var n,i,o,a,u;for(n=e.length,i=r,o=r,u=0;u<n;u++){if(0===e[u])return[r,r];(a=t[u])>0?o+=a*(e[u]-1):a<0&&(i+=a*(e[u]-1))}return[i,o]}function te(e){return e.re}function re(e){return e.im}function ne(e){return"string"==typeof e}h(ee,"assign",(function(e,t,r,n){var i,o,a,u,f;for(i=e.length,o=r,a=r,f=0;f<i;f++){if(0===e[f])return n[0]=r,n[1]=r,n;(u=t[f])>0?a+=u*(e[f]-1):u<0&&(o+=u*(e[f]-1))}return n[0]=o,n[1]=a,n}));var ie=String.prototype.valueOf;var oe=g();function ae(e){return"object"==typeof e&&(e instanceof String||(oe?function(e){try{return ie.call(e),!0}catch(e){return!1}}(e):"[object String]"===v(e)))}function ue(e){return ne(e)||ae(e)}function fe(e){return"number"==typeof e}function se(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function le(e,t,r){var n=!1,i=t-e.length;return i<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=r?e+se(i):se(i)+e,n&&(e="-"+e)),e}h(ue,"isPrimitive",ne),h(ue,"isObject",ae);var ce=String.prototype.toLowerCase,he=String.prototype.toUpperCase;function pe(e){var t,r,n;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(r=e.arg,n=parseInt(r,10),!isFinite(n)){if(!fe(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===e.specifier||10!==t)&&(n=4294967295+n+1),n<0?(r=(-n).toString(t),e.precision&&(r=le(r,e.precision,e.padRight)),r="-"+r):(r=n.toString(t),n||e.precision?e.precision&&(r=le(r,e.precision,e.padRight)):r="",e.sign&&(r=e.sign+r)),16===t&&(e.alternate&&(r="0x"+r),r=e.specifier===he.call(e.specifier)?he.call(r):ce.call(r)),8===t&&e.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}function ye(e){return"string"==typeof e}var ge=Math.abs,me=String.prototype.toLowerCase,de=String.prototype.toUpperCase,be=String.prototype.replace,we=/e\+(\d)$/,ve=/e-(\d)$/,_e=/^(\d+)$/,Ee=/^(\d+)e/,Te=/\.0$/,Ae=/\.0*e/,je=/(\..*[^0])0*e/;function Oe(e){var t,r,n=parseFloat(e.arg);if(!isFinite(n)){if(!fe(e.arg))throw new Error("invalid floating-point number. Value: "+r);n=e.arg}switch(e.specifier){case"e":case"E":r=n.toExponential(e.precision);break;case"f":case"F":r=n.toFixed(e.precision);break;case"g":case"G":ge(n)<1e-4?((t=e.precision)>0&&(t-=1),r=n.toExponential(t)):r=n.toPrecision(e.precision),e.alternate||(r=be.call(r,je,"$1e"),r=be.call(r,Ae,"e"),r=be.call(r,Te,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return r=be.call(r,we,"e+0$1"),r=be.call(r,ve,"e-0$1"),e.alternate&&(r=be.call(r,_e,"$1."),r=be.call(r,Ee,"$1.e")),n>=0&&e.sign&&(r=e.sign+r),r=e.specifier===de.call(e.specifier)?de.call(r):me.call(r)}function xe(e){var t,r="";for(t=0;t<e;t++)r+=" ";return r}function Ve(e,t,r){var n=t-e.length;return n<0?e:e=r?e+xe(n):xe(n)+e}var Ie=String.fromCharCode,Re=isNaN,Se=Array.isArray;function Le(e){var t={};return t.specifier=e.specifier,t.precision=void 0===e.precision?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function Be(e){var t,r,n,i,o,a,u,f,s;if(!Se(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(a="",u=1,f=0;f<e.length;f++)if(ye(n=e[f]))a+=n;else{if(t=void 0!==n.precision,!(n=Le(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+f+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),r=n.flags,s=0;s<r.length;s++)switch(i=r.charAt(s)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,Re(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,Re(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=pe(n);break;case"s":n.maxWidth=t?n.precision:-1;break;case"c":if(!Re(n.arg)){if((o=parseInt(n.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=Re(o)?String(n.arg):Ie(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(n.precision=6),n.arg=Oe(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=le(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=Ve(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a}var Ue=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function ke(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(t.precision="1"),t}function Ne(e){var t,r,n,i;for(r=[],i=0,n=Ue.exec(e);n;)(t=e.slice(i,Ue.lastIndex-n[0].length)).length&&r.push(t),r.push(ke(n)),i=Ue.lastIndex,n=Ue.exec(e);return(t=e.slice(i)).length&&r.push(t),r}function Ce(e){return"string"==typeof e}function Me(e){var t,r,n;if(!Ce(e))throw new TypeError(Me("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=Ne(e),(r=new Array(arguments.length))[0]=t,n=1;n<r.length;n++)r[n]=arguments[n];return Be.apply(null,r)}var Pe=/[-\/\\^$*+?.()|[\]{}]/g;var Fe=/./,Ye=J(),De=Ye.document&&Ye.document.childNodes,We=Int8Array;function Ge(){return/^\s*function\s*([^(]*)/i}var $e=/^\s*function\s*([^(]*)/i;h(Ge,"REGEXP",$e);var ze=Array.isArray?Array.isArray:function(e){return"[object Array]"===v(e)};function Je(e){return null!==e&&"object"==typeof e}var Xe=function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!ze(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}(Je);function Ze(e){return Je(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function qe(e){var t,r,n;if(("Object"===(r=v(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=$e.exec(n.toString()))return t[1]}return Ze(e)?"Buffer":r}h(Je,"isObjectLikeArray",Xe);var He="function"==typeof Fe||"object"==typeof We||"function"==typeof De?function(e){return qe(e).toLowerCase()}:function(e){var t;return null===e?"null":"object"===(t=typeof e)?qe(e).toLowerCase():t};function Ke(e){return"function"===He(e)}var Qe=RegExp.prototype.exec;var et=g();function tt(e){return"object"==typeof e&&(e instanceof RegExp||(et?function(e){try{return Qe.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===v(e)))}function rt(e,t,r){if(!ne(e))throw new TypeError(Me("invalid argument. First argument must be a string. Value: `%s`.",e));if(ne(t))t=function(e){var t,r;if(!ne(e))throw new TypeError(Me("invalid argument. Must provide a regular expression string. Value: `%s`.",e));if("/"===e[0])for(r=e.length-1;r>=0&&"/"!==e[r];r--);return void 0===r||r<=0?e.replace(Pe,"\\$&"):(t=(t=e.substring(1,r)).replace(Pe,"\\$&"),e=e[0]+t+e.substring(r))}(t),t=new RegExp(t,"g");else if(!tt(t))throw new TypeError(Me("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",t));if(!ne(r)&&!Ke(r))throw new TypeError(Me("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",r));return e.replace(t,r)}var nt={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var it="function"==typeof Uint8Array;var ot="function"==typeof Uint8Array?Uint8Array:null;var at,ut="function"==typeof Uint8Array?Uint8Array:void 0;at=function(){var e,t,r;if("function"!=typeof ot)return!1;try{t=new ot(t=[1,3.14,-3.14,256,257]),r=t,e=(it&&r instanceof Uint8Array||"[object Uint8Array]"===v(r))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?ut:function(){throw new Error("not implemented")};var ft=at,st="function"==typeof Uint16Array;var lt="function"==typeof Uint16Array?Uint16Array:null;var ct,ht="function"==typeof Uint16Array?Uint16Array:void 0;ct=function(){var e,t,r;if("function"!=typeof lt)return!1;try{t=new lt(t=[1,3.14,-3.14,65536,65537]),r=t,e=(st&&r instanceof Uint16Array||"[object Uint16Array]"===v(r))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?ht:function(){throw new Error("not implemented")};var pt,yt=ct,gt={uint16:yt,uint8:ft};(pt=new gt.uint16(1))[0]=4660;var mt=52===new gt.uint8(pt.buffer)[0],dt="function"==typeof ArrayBuffer;function bt(e){return dt&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===v(e)}var wt="function"==typeof Float64Array;var vt="function"==typeof Float64Array?Float64Array:null;var _t,Et="function"==typeof Float64Array?Float64Array:void 0;_t=function(){var e,t,r;if("function"!=typeof vt)return!1;try{t=new vt([1,3.14,-3.14,NaN]),r=t,e=(wt&&r instanceof Float64Array||"[object Float64Array]"===v(r))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}()?Et:function(){throw new Error("not implemented")};var Tt=_t,At="function"==typeof ArrayBuffer?ArrayBuffer:null;var jt,Ot="function"==typeof ArrayBuffer?ArrayBuffer:void 0;jt=function(){var e,t,r;if("function"!=typeof At)return!1;try{(e=bt(r=new At(16))&&"function"==typeof At.isView)&&((t=new Tt(r))[0]=-3.14,t[1]=NaN,e=e&&At.isView(t)&&16===r.byteLength&&-3.14===t[0]&&t[1]!=t[1])}catch(t){e=!1}return e}()?Ot:function(){throw new Error("not implemented")};var xt=jt,Vt="function"==typeof DataView;var It="function"==typeof DataView?DataView:null;var Rt,St="function"==typeof DataView?DataView:void 0;Rt=function(){var e,t,r,n;if("function"!=typeof It)return!1;try{r=new xt(24),t=new It(r,8),n=t,(e=(Vt&&n instanceof DataView||"[object DataView]"===v(n))&&"function"==typeof t.getFloat64&&"function"==typeof t.setFloat64)&&(t.setFloat64(0,-3.14),t.setFloat64(8,NaN),e=e&&t.buffer===r&&16===t.byteLength&&8===t.byteOffset&&-3.14===t.getFloat64(0)&&t.getFloat64(8)!=t.getFloat64(8))}catch(t){e=!1}return e}()?St:function(){throw new Error("not implemented")};var Lt=Rt,Bt="function"==typeof BigInt?BigInt:void 0,Ut=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function kt(){return Ut.slice()}function Nt(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function Ct(e){return Object.keys(Object(e))}var Mt,Pt=void 0!==Object.keys;function Ft(e){return"[object Arguments]"===v(e)}Mt=function(){return Ft(arguments)}();var Yt=Mt;function Dt(e){return e!=e}function Wt(e){return p(e)&&Dt(e)}function Gt(e){return A(e)&&Dt(e.valueOf())}function $t(e){return Wt(e)||Gt(e)}h($t,"isPrimitive",Wt),h($t,"isObject",Gt);var zt=_.NEGATIVE_INFINITY,Jt=Math.floor;function Xt(e){return Jt(e)===e}function Zt(e){return e<I&&e>zt&&Xt(e)}function qt(e){return p(e)&&Zt(e)}function Ht(e){return A(e)&&Zt(e.valueOf())}function Kt(e){return qt(e)||Ht(e)}h(Kt,"isPrimitive",qt),h(Kt,"isObject",Ht);var Qt=Object.prototype.propertyIsEnumerable;var er=!Qt.call("beep","0");function tr(e,t){var r;return null!=e&&(!(r=Qt.call(e,t))&&er&&ue(e)?!Wt(t=+t)&&qt(t)&&t>=0&&t<e.length:r)}var rr=4294967295;var nr=Yt?Ft:function(e){return null!==e&&"object"==typeof e&&!ze(e)&&"number"==typeof e.length&&Xt(e.length)&&e.length>=0&&e.length<=rr&&b(e,"callee")&&!tr(e,"callee")},ir=Array.prototype.slice;var or=tr((function(){}),"prototype"),ar=!tr({toString:null},"toString");function ur(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Xt(e.length)&&e.length>=0&&e.length<=9007199254740991}function fr(e,t,r){var n,i;if(!ur(e)&&!ne(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(0===(n=e.length))return-1;if(3===arguments.length){if(!qt(r))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+r+"`.");if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if($t(t)){for(;i<n;i++)if($t(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1}function sr(e){return e.constructor&&e.constructor.prototype===e}var lr=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],cr="undefined"==typeof window?void 0:window;var hr=function(){var e;if("undefined"===He(cr))return!1;for(e in cr)try{-1===fr(lr,e)&&b(cr,e)&&null!==cr[e]&&"object"===He(cr[e])&&sr(cr[e])}catch(e){return!0}return!1}(),pr="undefined"!=typeof window;var yr,gr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];yr=Pt?function(){return 2!==(Ct(arguments)||"").length}(1,2)?function(e){return nr(e)?Ct(ir.call(e)):Ct(e)}:Ct:function(e){var t,r,n,i,o,a,u;if(i=[],nr(e)){for(u=0;u<e.length;u++)i.push(u.toString());return i}if("string"==typeof e){if(e.length>0&&!b(e,"0"))for(u=0;u<e.length;u++)i.push(u.toString())}else{if(!1==(n="function"==typeof e)&&!Je(e))return i;r=or&&n}for(o in e)r&&"prototype"===o||!b(e,o)||i.push(String(o));if(ar)for(t=function(e){if(!1===pr&&!hr)return sr(e);try{return sr(e)}catch(e){return!1}}(e),u=0;u<gr.length;u++)a=gr[u],t&&"constructor"===a||!b(e,a)||i.push(String(a));return i};var mr=yr;h(kt,"enum",Nt),function(e,t){var r,n,i;for(r=mr(t),i=0;i<r.length;i++)c(e,n=r[i],t[n])}(kt,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var dr=["row-major","column-major"];function br(){return dr.slice()}function wr(){return{"row-major":1,"column-major":2}}h(br,"enum",wr);var vr=["throw","clamp","wrap"];function _r(){return vr.slice()}function Er(){return{throw:1,clamp:2,wrap:3}}h(_r,"enum",Er);var Tr={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Ar={"row-major":1,"column-major":2},jr={throw:1,clamp:2,wrap:3};var Or=new ft(8),xr=new Lt(Or.buffer);function Vr(e,t,r,n){var i,o,a;if(0===e){for(a=0;a<Or.length;a++)t[n]=0,n+=r;return t}for(o=(4294967295&e)>>>0,i=Jt(e/4294967296),mt?(xr.setUint32(0,o,mt),xr.setUint32(4,i,mt)):(xr.setUint32(0,i,mt),xr.setUint32(4,o,mt)),a=0;a<Or.length;a++)t[n]=Or[a],n+=r;return t}h((function(e){var t,r,n,i;return t=new ft(8),0===e||(i=(4294967295&e)>>>0,n=Jt(e/4294967296),r=new Lt(t.buffer),mt?(r.setUint32(0,i,mt),r.setUint32(4,n,mt)):(r.setUint32(0,n,mt),r.setUint32(4,i,mt))),t}),"assign",Vr);var Ir={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Rr={"row-major":1,"column-major":2},Sr={throw:1,clamp:2,wrap:3};function Lr(e,t,r,n,i,o){var a,u,f,s,l;if(!(this instanceof Lr))return new Lr(e,t,r,n,i,o);for(s=1,l=0;l<r.length;l++)s*=r[l];return u=t.BYTES_PER_ELEMENT?t.BYTES_PER_ELEMENT*s:null,this._byteLength=u,this._bytesPerElement=function(e){return q[e]||null}(e),this._buffer=t,this._dtype=e,this._length=s,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=Boolean(t.get&&t.set),this._iterationOrder=function(e){var t,r;for(t=0,r=0;r<e.length;r++)e[r]<0&&(t+=1);return 0===t?1:t===e.length?-1:0}(n),a=function(e,t,r,n,i){var o;return 0!==e&&0!==i&&e===(o=ee(t,r,n))[1]-o[0]+1}(s,r,n,i,this._iterationOrder),f=function(e){var t,r,n,i,o,a;if(0===(r=e.length))return 0;for(t=!0,n=!0,i=H(e[0]),a=1;a<r;a++){if(o=H(e[a]),t&&o<i?t=!1:n&&o>i&&(n=!1),!n&&!t)return 0;i=o}return n&&t?3:n?1:2}(n),this._flags={ROW_MAJOR_CONTIGUOUS:Q(f,a),COLUMN_MAJOR_CONTIGUOUS:K(f,a),READONLY:!1},this.__meta_dataview__=null,this}function Br(e){return e instanceof Lr||null!==e&&"object"==typeof e&&"object"==typeof e.data&&"object"==typeof e.shape&&"object"==typeof e.strides&&"number"==typeof e.offset&&"string"==typeof e.order&&"number"==typeof e.ndims&&"string"==typeof e.dtype&&"number"==typeof e.length&&"object"==typeof e.flags&&"function"==typeof e.get&&"function"==typeof e.set}h(Lr,"name","ndarray"),Z(Lr.prototype,"byteLength",(function(){return this._byteLength})),Z(Lr.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Z(Lr.prototype,"data",(function(){return this._buffer})),Z(Lr.prototype,"dtype",(function(){return this._dtype})),Z(Lr.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(e=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:e.COLUMN_MAJOR_CONTIGUOUS,READONLY:e.READONLY};var e})),Z(Lr.prototype,"length",(function(){return this._length})),Z(Lr.prototype,"ndims",(function(){return this._ndims})),Z(Lr.prototype,"offset",(function(){return this._offset})),Z(Lr.prototype,"order",(function(){return this._order})),Z(Lr.prototype,"shape",(function(){return this._shape.slice()})),Z(Lr.prototype,"strides",(function(){return this._strides.slice()})),h(Lr.prototype,"get",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.get(e):this._buffer[e]})),h(Lr.prototype,"iget",(function(e){var t,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+e):this._buffer[this._offset+e];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-e):this._buffer[this._offset-e]}if(r=this._shape,t=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),h(Lr.prototype,"set",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length-1;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.set(arguments[t],e):this._buffer[e]=arguments[t],this})),h(Lr.prototype,"iset",(function(e,t){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(e,this._offset):this._buffer[this._offset]=e,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset+e):this._buffer[this._offset+e]=t,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset-e):this._buffer[this._offset-e]=t,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this}for(u=i-1;u>=0;u--)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this})),h(Lr.prototype,"toString",(function(){var e,t,r,n,i,o;if(t=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",e="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)e+=te(i=this.iget(o))+", "+re(i),o<this._length-1&&(e+=", ");else for(o=0;o<this._length;o++)e+=this.iget(o),o<this._length-1&&(e+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)e+=te(i=this.iget(o))+", "+re(i),o<2&&(e+=", ");else for(o=0;o<3;o++)e+=this.iget(o),o<2&&(e+=", ");if(e+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)e+=te(i=this.iget(this._length-1-o))+", "+re(i),o>0&&(e+=", ");else for(o=2;o>=0;o--)e+=this.iget(this._length-1-o),o>0&&(e+=", ")}if(r+=rt(nt[this.dtype],"{{data}}",e),r+=", ",r+=0===t?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===t)r+="0";else for(o=0;o<t;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<t-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),h(Lr.prototype,"toJSON",(function(){var e,t,r,n;for(t=this._length,(e={}).type="ndarray",e.dtype=this.dtype,e.flags={READONLY:this._flags.READONLY},e.order=this._order,e.shape=this._shape.slice(),e.strides=this._strides.slice(),n=0;n<t;n++)e.strides[n]<0&&(e.strides[n]*=-1);if(e.data=[],"complex64"===e.dtype||"complex128"===e.dtype)for(n=0;n<t;n++)r=this.iget(n),e.data.push(te(r),re(r));else for(n=0;n<t;n++)e.data.push(this.iget(n));return e})),h(Lr.prototype,"__array_meta_dataview__","function"==typeof X.BigInt&&"function"==typeof BigInt&&"bigint"==typeof X.BigInt("1")&&"bigint"==typeof BigInt("1")?function(){var e,t,r,n,i,o,a,u,f,s,l,c,h,p;if(f=this._mode||"throw",a=this._submode||[f],r=33+16*(c=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Lt(new xt(r)),i=this._shape,o=this._strides,n=this._dtype,e=this._bytesPerElement,s=0,u.setInt8(s,mt?1:0),s+=1,u.setInt16(s,Tr[n],mt),s+=2,u.setBigInt64(s,Bt(c),mt),l=8*c,s+=8,p=0;p<c;p++)u.setBigInt64(s,Bt(i[p]),mt),u.setBigInt64(s+l,Bt(o[p]*e),mt),s+=8;for(s+=l,u.setBigInt64(s,Bt(this._offset*e),mt),s+=8,u.setInt8(s,Ar[this._order]),s+=1,u.setInt8(s,jr[f]),s+=1,u.setBigInt64(s,Bt(h),mt),s+=8,p=0;p<h;p++)u.setInt8(s,jr[a[p]]),s+=1;return t=0,t|=this._flags.READONLY?4:0,u.setInt32(s,t,mt),this.__meta_dataview__=u,u}:function(){var e,t,r,n,i,o,a,u,f,s,l,c,h,p,y;if(s=this._mode||"throw",u=this._submode||[s],n=33+16*(h=this._ndims)+(p=u.length),(f=this.__meta_dataview__)&&f.byteLength===n)return f;for(f=new Lt(new xt(n)),t=new ft(f.buffer),o=this._shape,a=this._strides,i=this._dtype,e=this._bytesPerElement,l=0,f.setInt8(l,mt?1:0),l+=1,f.setInt16(l,Ir[i],mt),Vr(h,t,1,l+=2),c=8*h,l+=8,y=0;y<h;y++)Vr(o[y],t,1,l),Vr(a[y]*e,t,1,l+c),l+=8;for(l+=c,Vr(this._offset*e,t,1,l),l+=8,f.setInt8(l,Rr[this._order]),l+=1,f.setInt8(l,Sr[s]),Vr(p,t,1,l+=1),l+=8,y=0;y<p;y++)f.setInt8(l,Sr[u[y]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,f.setInt32(l,r,mt),this.__meta_dataview__=f,f});var Ur={Buffer:"binary",Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Object:"generic",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},kr="function"==typeof Uint32Array;var Nr="function"==typeof Uint32Array?Uint32Array:null;var Cr,Mr="function"==typeof Uint32Array?Uint32Array:void 0;Cr=function(){var e,t,r;if("function"!=typeof Nr)return!1;try{t=new Nr(t=[1,3.14,-3.14,4294967296,4294967297]),r=t,e=(kr&&r instanceof Uint32Array||"[object Uint32Array]"===v(r))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?Mr:function(){throw new Error("not implemented")};var Pr=Cr,Fr="function"==typeof Int32Array;var Yr="function"==typeof Int32Array?Int32Array:null;var Dr,Wr="function"==typeof Int32Array?Int32Array:void 0;Dr=function(){var e,t,r;if("function"!=typeof Yr)return!1;try{t=new Yr([1,3.14,-3.14,2147483648]),r=t,e=(Fr&&r instanceof Int32Array||"[object Int32Array]"===v(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e}()?Wr:function(){throw new Error("not implemented")};var Gr=Dr,$r="function"==typeof Int16Array;var zr="function"==typeof Int16Array?Int16Array:null;var Jr,Xr="function"==typeof Int16Array?Int16Array:void 0;Jr=function(){var e,t,r;if("function"!=typeof zr)return!1;try{t=new zr([1,3.14,-3.14,32768]),r=t,e=($r&&r instanceof Int16Array||"[object Int16Array]"===v(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e}()?Xr:function(){throw new Error("not implemented")};var Zr=Jr,qr="function"==typeof Uint8ClampedArray;var Hr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Kr,Qr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Kr=function(){var e,t,r;if("function"!=typeof Hr)return!1;try{t=new Hr([-1,0,1,3.14,4.99,255,256]),r=t,e=(qr&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===v(r))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e}()?Qr:function(){throw new Error("not implemented")};var en=Kr,tn="function"==typeof Int8Array;var rn="function"==typeof Int8Array?Int8Array:null;var nn,on="function"==typeof Int8Array?Int8Array:void 0;nn=function(){var e,t,r;if("function"!=typeof rn)return!1;try{t=new rn([1,3.14,-3.14,128]),r=t,e=(tn&&r instanceof Int8Array||"[object Int8Array]"===v(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e}()?on:function(){throw new Error("not implemented")};var an=nn;function un(e){return qt(e)&&e>=0}function fn(e){return Ht(e)&&e.valueOf()>=0}function sn(e){return un(e)||fn(e)}h(sn,"isPrimitive",un),h(sn,"isObject",fn);var ln=4294967295;function cn(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&Xt(e.length)&&e.length>=0&&e.length<=ln}function hn(e){return"object"==typeof e&&null!==e&&!ze(e)}function pn(e){return Xt(e/2)}function yn(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&b(Symbol,"iterator")&&"symbol"==typeof Symbol.iterator}var gn=yn()?Symbol.iterator:null;function mn(e){return e.re}function dn(e){return e.im}function bn(e,t){return new B(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function wn(e,t){return new Tt(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function vn(e,t){return e[t]}function _n(e,t){return e.get(t)}function En(e,t,r){e[t]=r}function Tn(e,t,r){e.set(r,t)}function An(e){var t=Boolean(e.get&&e.set);return{data:e,accessors:t,getter:t?_n:vn,setter:t?Tn:En}}function jn(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(cn(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!C(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");t.push(mn(n),dn(n))}return t}function On(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,cn(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!C(o))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+o+"`.");n.push(mn(o),dn(o))}return n}function xn(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!C(n=t[i]))return null;e[o]=mn(n),e[o+1]=dn(n),o+=2}return e}var Vn=2*B.BYTES_PER_ELEMENT,In=yn();function Rn(e){return e instanceof Un||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Sn(e){return e===Un||"Complex128Array"===e.name}function Ln(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===Vn}function Bn(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===2*Vn}function Un(){var e,t,r,n;if(t=arguments.length,!(this instanceof Un))return 0===t?new Un:1===t?new Un(arguments[0]):2===t?new Un(arguments[0],arguments[1]):new Un(arguments[0],arguments[1],arguments[2]);if(0===t)r=new B(0);else if(1===t)if(un(arguments[0]))r=new B(2*arguments[0]);else if(ur(arguments[0]))if((n=(r=arguments[0]).length)&&ze(r)&&C(r[0])){if(null===(r=xn(new B(2*n),r))){if(!pn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new B(arguments[0])}}else{if(Ln(r))r=bn(r,0);else if(Bn(r))r=wn(r,0);else if(!pn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new B(r)}else if(bt(arguments[0])){if(!Xt((r=arguments[0]).byteLength/Vn))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Vn+". Byte length: `"+r.byteLength+"`.");r=new B(r)}else{if(!hn(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(r=arguments[0],!1===In)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+r+"`.");if(!Ke(r[gn]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+r+"`.");if(!Ke((r=r[gn]()).next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((r=jn(r))instanceof Error)throw r;r=new B(r)}else{if(!bt(r=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+r+"`.");if(!un(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!Xt(e/Vn))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Vn+". Value: `"+e+"`.");if(2===t){if(!Xt((n=r.byteLength-e)/Vn))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Vn+". View byte length: `"+n+"`.");r=new B(r,e)}else{if(!un(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Vn>r.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Vn+"`.");r=new B(r,e,2*n)}}return h(this,"_buffer",r),h(this,"_length",r.length/2),this}function kn(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(cn(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!C(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");t.push(te(n),re(n))}return t}function Nn(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,cn(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!C(o))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+o+"`.");n.push(te(o),re(o))}return n}function Cn(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!C(n=t[i]))return null;e[o]=te(n),e[o+1]=re(n),o+=2}return e}h(Un,"BYTES_PER_ELEMENT",Vn),h(Un,"name","Complex64Array"),h(Un,"from",(function(e){var t,r,n,i,o,a,u,f,s,l,c;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Sn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Ke(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");r>2&&(t=arguments[2])}if(Rn(e)){if(u=e.length,n){for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(C(s=n.call(t,e.get(l),l)))o[c]=mn(s),o[c+1]=dn(s);else{if(!(cn(s)&&s.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+s+"`.");o[c]=s[0],o[c+1]=s[1]}c+=2}return i}return new this(e)}if(ur(e)){if(n){for(u=e.length,a=An(e),l=0;l<u;l++)if(!C(a.getter(e,l))){f=!0;break}if(f){if(!pn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(o=(i=new this(u/2))._buffer,l=0;l<u;l++)o[l]=n.call(t,a.getter(e,l),l);return i}for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(C(s=n.call(t,a.getter(e,l),l)))o[c]=mn(s),o[c+1]=dn(s);else{if(!(cn(s)&&s.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+s+"`.");o[c]=s[0],o[c+1]=s[1]}c+=2}return i}return new this(e)}if(hn(e)&&In&&Ke(e[gn])){if(!Ke((o=e[gn]()).next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((a=n?On(o,n,t):jn(o))instanceof Error)throw a;for(o=(i=new this(u=a.length/2))._buffer,l=0;l<u;l++)o[l]=a[l];return i}throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.")})),h(Un,"of",(function(){var e,t;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Sn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),Z(Un.prototype,"buffer",(function(){return this._buffer.buffer})),Z(Un.prototype,"byteLength",(function(){return this._buffer.byteLength})),Z(Un.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),h(Un.prototype,"BYTES_PER_ELEMENT",Un.BYTES_PER_ELEMENT),h(Un.prototype,"copyWithin",(function(e,t){if(!Rn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),h(Un.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!Rn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,h(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new N(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),h(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),gn&&h(r,gn,(function(){return t.entries()})),r})),h(Un.prototype,"get",(function(e){var t;if(!Rn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!un(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");if(!(e>=this._length))return new N((t=this._buffer)[e*=2],t[e+1])})),Z(Un.prototype,"length",(function(){return this._length})),h(Un.prototype,"set",(function(e){var t,r,n,i,o,a,u,f,s;if(!Rn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!un(r=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.")}else r=0;if(C(e)){if(r>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+r+"`.");return n[r*=2]=mn(e),void(n[r+1]=dn(e))}if(Rn(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,s=n.byteOffset+r*Vn,t.buffer===n.buffer&&t.byteOffset<s&&t.byteOffset+t.byteLength>s){for(i=new B(t.length),f=0;f<t.length;f++)i[f]=t[f];t=i}for(r*=2,s=0,f=0;f<a;f++)n[r]=t[s],n[r+1]=t[s+1],r+=2,s+=2}else{if(!ur(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(a=e.length,f=0;f<a;f++)if(!C(e[f])){o=!0;break}if(o){if(!pn(a))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+a+"`.");if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,s=n.byteOffset+r*Vn,t.buffer===n.buffer&&t.byteOffset<s&&t.byteOffset+t.byteLength>s){for(i=new B(a),f=0;f<a;f++)i[f]=t[f];t=i}for(r*=2,a/=2,s=0,f=0;f<a;f++)n[r]=t[s],n[r+1]=t[s+1],r+=2,s+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,f=0;f<a;f++)u=e[f],n[r]=mn(u),n[r+1]=dn(u),r+=2}}));var Mn=2*Tt.BYTES_PER_ELEMENT,Pn=yn();function Fn(e){return e instanceof Gn||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Yn(e){return e===Gn||"Complex64Array"===e.name}function Dn(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===Mn/2}function Wn(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===Mn}function Gn(){var e,t,r,n;if(t=arguments.length,!(this instanceof Gn))return 0===t?new Gn:1===t?new Gn(arguments[0]):2===t?new Gn(arguments[0],arguments[1]):new Gn(arguments[0],arguments[1],arguments[2]);if(0===t)r=new Tt(0);else if(1===t)if(un(arguments[0]))r=new Tt(2*arguments[0]);else if(ur(arguments[0]))if((n=(r=arguments[0]).length)&&ze(r)&&C(r[0])){if(null===(r=Cn(new Tt(2*n),r))){if(!pn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new Tt(arguments[0])}}else{if(Dn(r))r=bn(r,0);else if(Wn(r))r=wn(r,0);else if(!pn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new Tt(r)}else if(bt(arguments[0])){if(!Xt((r=arguments[0]).byteLength/Mn))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Mn+". Byte length: `"+r.byteLength+"`.");r=new Tt(r)}else{if(!hn(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(r=arguments[0],!1===Pn)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+r+"`.");if(!Ke(r[gn]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+r+"`.");if(!Ke((r=r[gn]()).next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((r=kn(r))instanceof Error)throw r;r=new Tt(r)}else{if(!bt(r=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+r+"`.");if(!un(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!Xt(e/Mn))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Mn+". Value: `"+e+"`.");if(2===t){if(!Xt((n=r.byteLength-e)/Mn))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Mn+". View byte length: `"+n+"`.");r=new Tt(r,e)}else{if(!un(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Mn>r.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Mn+"`.");r=new Tt(r,e,2*n)}}return h(this,"_buffer",r),h(this,"_length",r.length/2),this}h(Gn,"BYTES_PER_ELEMENT",Mn),h(Gn,"name","Complex128Array"),h(Gn,"from",(function(e){var t,r,n,i,o,a,u,f,s,l,c;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Yn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Ke(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");r>2&&(t=arguments[2])}if(Fn(e)){if(u=e.length,n){for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(C(s=n.call(t,e.get(l),l)))o[c]=te(s),o[c+1]=re(s);else{if(!(cn(s)&&s.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+s+"`.");o[c]=s[0],o[c+1]=s[1]}c+=2}return i}return new this(e)}if(ur(e)){if(n){for(u=e.length,a=An(e),l=0;l<u;l++)if(!C(a.getter(e,l))){f=!0;break}if(f){if(!pn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(o=(i=new this(u/2))._buffer,l=0;l<u;l++)o[l]=n.call(t,a.getter(e,l),l);return i}for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(C(s=n.call(t,a.getter(e,l),l)))o[c]=te(s),o[c+1]=re(s);else{if(!(cn(s)&&s.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+s+"`.");o[c]=s[0],o[c+1]=s[1]}c+=2}return i}return new this(e)}if(hn(e)&&Pn&&Ke(e[gn])){if(!Ke((o=e[gn]()).next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((a=n?Nn(o,n,t):kn(o))instanceof Error)throw a;for(o=(i=new this(u=a.length/2))._buffer,l=0;l<u;l++)o[l]=a[l];return i}throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.")})),h(Gn,"of",(function(){var e,t;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Yn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),Z(Gn.prototype,"buffer",(function(){return this._buffer.buffer})),Z(Gn.prototype,"byteLength",(function(){return this._buffer.byteLength})),Z(Gn.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),h(Gn.prototype,"BYTES_PER_ELEMENT",Gn.BYTES_PER_ELEMENT),h(Gn.prototype,"copyWithin",(function(e,t){if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),h(Gn.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,h(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new O(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),h(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),gn&&h(r,gn,(function(){return t.entries()})),r})),h(Gn.prototype,"get",(function(e){var t;if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!un(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");if(!(e>=this._length))return new O((t=this._buffer)[e*=2],t[e+1])})),Z(Gn.prototype,"length",(function(){return this._length})),h(Gn.prototype,"set",(function(e){var t,r,n,i,o,a,u,f,s;if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!un(r=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.")}else r=0;if(C(e)){if(r>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+r+"`.");return n[r*=2]=te(e),void(n[r+1]=re(e))}if(Fn(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,s=n.byteOffset+r*Mn,t.buffer===n.buffer&&t.byteOffset<s&&t.byteOffset+t.byteLength>s){for(i=new Tt(t.length),f=0;f<t.length;f++)i[f]=t[f];t=i}for(r*=2,s=0,f=0;f<a;f++)n[r]=t[s],n[r+1]=t[s+1],r+=2,s+=2}else{if(!ur(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(a=e.length,f=0;f<a;f++)if(!C(e[f])){o=!0;break}if(o){if(!pn(a))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+a+"`.");if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,s=n.byteOffset+r*Mn,t.buffer===n.buffer&&t.byteOffset<s&&t.byteOffset+t.byteLength>s){for(i=new Tt(a),f=0;f<a;f++)i[f]=t[f];t=i}for(r*=2,a/=2,s=0,f=0;f<a;f++)n[r]=t[s],n[r+1]=t[s+1],r+=2,s+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,f=0;f<a;f++)u=e[f],n[r]=te(u),n[r+1]=re(u),r+=2}}));var $n=[Tt,B,Gr,Pr,Zr,yt,an,ft,en,Un,Gn],zn=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],Jn=zn.length;function Xn(e){var t;if(ze(e))return"generic";if(Ze(e))return"binary";for(t=0;t<Jn;t++)if(e instanceof $n[t])return zn[t];return Ur[qe(e)]||null}var Zn="function"==typeof Buffer?Buffer:null;var qn,Hn=e.Buffer;qn=function(){var e,t;if("function"!=typeof Zn)return!1;try{e=Ze(t="function"==typeof Zn.from?Zn.from([1,2,3,4]):new Zn([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e}()?Hn:function(){throw new Error("not implemented")};var Kn=qn,Qn={binary:Kn,float64:Tt,float32:B,generic:Array,int16:Zr,int32:Gr,int8:an,uint16:yt,uint32:Pr,uint8:ft,uint8c:en,complex64:Un,complex128:Gn};var ei=Ke(Kn.allocUnsafe)?function(e){if(!sn(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`");return Kn.allocUnsafe(e)}:function(e){if(!sn(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`");return new Kn(e)};function ti(e,t){var r=function(e){return Qn[e]||null}(e);return r?new r(t):null}function ri(e,t){return"generic"===e?function(e){var t,r;for(t=[],r=0;r<e;r++)t.push(0);return t}(t):"binary"===e?function(e){return function(e){var t;for(t=0;t<e.length;t++)e[t]=0;return e}(ei(e))}(t):ti(e,t)}function ni(e){var t,r;for(t=[],r=0;r<e.length;r++)t.push(e[r]);return t}function ii(e,t){var r,n,i,o,a,u,f,s,l;if((a=t.length)<(u=(i=e.shape).length))throw new Error("invalid argument. Cannot broadcast an array to a shape having fewer dimensions. Arrays can only be broadcasted to shapes having the same or more dimensions.");for(r=[],s=0;s<a;s++)r.push(0);for(o=e.strides,s=a-1;s>=0;s--)if(!((l=u-a+s)<0)){if(f=i[l],0!==(n=t[s])&&n<f)throw new Error("invalid argument. Input array cannot be broadcast to the specified shape, as the specified shape has a dimension whose size is less than the size of the corresponding dimension in the input array. Array shape: ("+ni(i).join(", ")+"). Desired shape: ("+ni(t).join(", ")+"). Dimension: "+s+".");if(f===n)r[s]=o[l];else{if(1!==f)throw new Error("invalid argument. Input array and the specified shape are broadcast incompatible. Array shape: ("+ni(i).join(", ")+"). Desired shape: ("+ni(t).join(", ")+"). Dimension: "+s+".");r[s]=0}}return Lr(e.dtype,e.data,ni(t),r,e.offset,e.order)}function oi(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length&&Xt(e.length)&&e.length>=0&&e.length<=ln}(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}var ai=oi(sn.isPrimitive),ui=oi(sn.isObject),fi=oi(sn);h(fi,"primitives",ai),h(fi,"objects",ui);var si=oi(Kt.isPrimitive),li=oi(Kt.isObject),ci=oi(Kt);h(ci,"primitives",si),h(ci,"objects",li);var hi=br(),pi=hi.length;function yi(e){var t;for(t=0;t<pi;t++)if(e===hi[t])return!0;return!1}var gi=kt(),mi=gi.length;function di(e){var t;for(t=0;t<mi;t++)if(e===gi[t])return!0;return!1}function bi(e,t,r,n){var i=ee(t,r,n);return i[0]>=0&&i[1]<e}function wi(e){var t,r,n;if(0===(t=e.length))return 0;for(r=1,n=0;n<t;n++)r*=e[n];return r}function vi(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null}var _i=Object.create;function Ei(){}var Ti="function"==typeof _i?_i:function(e){return Ei.prototype=e,new Ei};var Ai="throw",ji=!1;function Oi(e,t,r){if("clamp"===r)return function(e,t){return e<0?0:e>t?t:e}(e,t);if("wrap"===r)return function(e,t){var r=t+1;return e<0?((e+=r)<0&&0!=(e%=r)&&(e+=r),e):e>t?((e-=r)>t&&(e%=r),e):e}(e,t);if(e<0||e>t)throw new RangeError("invalid argument. Index must be on the interval: [0,"+t+"]. Value: `"+e+"`.");return e}var xi=Lr.prototype.iget;var Vi=Lr.prototype.iset;function Ii(e,t){var r,n;for(r=[],n=0;n<t;n++)r.push(e[n]);return r}var Ri,Si=Object.getPrototypeOf;Ri=Ke(Object.getPrototypeOf)?Si:function(e){var t=function(e){return e.__proto__}(e);return t||null===t?t:"[object Function]"===v(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null};var Li=Ri;var Bi=Object.prototype;function Ui(e){var t;return!!hn(e)&&(t=function(e){return null==e?null:(e=Object(e),Li(e))}(e),!t||!b(e,"constructor")&&b(t,"constructor")&&Ke(t.constructor)&&"[object Function]"===v(t.constructor)&&b(t,"isPrototypeOf")&&Ke(t.isPrototypeOf)&&(t===Bi||function(e){var t;for(t in e)if(!b(e,t))return!1;return!0}(e)))}var ki=_r(),Ni=ki.length;function Ci(e){var t;for(t=0;t<Ni;t++)if(e===ki[t])return!0;return!1}function Mi(e,t){var r;if(!Ui(t))return new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.");if(b(t,"mode")&&(e.mode=t.mode,!Ci(e.mode)))return new TypeError("invalid option. `mode` option must be a recognized mode. Option: `"+e.mode+"`.");if(b(t,"submode")){if(e.submode=t.submode,!ze(e.submode))return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+e.submode+"`.");if(0===e.submode.length)return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+e.submode.join(",")+"`.");for(r=0;r<e.submode.length;r++)if(!Ci(e.submode[r]))return new TypeError("invalid option. Each `submode` must be a recognized modes. Option: `"+e.submode[r]+"`.");e.submode=e.submode.slice()}return b(t,"readonly")&&(e.readonly=t.readonly,!M(e.readonly))?new TypeError("invalid option. `readonly` option must be a boolean. Option: `"+e.readonly+"`."):null}var Pi=32767;function Fi(e,t,r,n,i,o,a){var u,f,s,l,c;if(!(this instanceof Fi))return arguments.length<7?new Fi(e,t,r,n,i,o):new Fi(e,t,r,n,i,o,a);if(!di(e))throw new TypeError("invalid argument. `dtype` argument must be a supported ndarray data type. Value: `"+e+"`.");if(!ur(t))throw new TypeError("invalid argument. `buffer` argument must be an array-like object, typed-array-like, or a Buffer. Value: `"+t+"`.");if(t.get&&t.set&&(!Ke(t.get)||!Ke(t.set)))throw new TypeError("invalid argument. `buffer` argument `get` and `set` properties must be functions. Value: `"+t+"`.");if(!ai(r)&&(!ur(r)||r.length>0))throw new TypeError("invalid argument. `shape` argument must be an array-like object containing nonnegative integers. Value: `"+r+"`.");if((u=r.length)>Pi)throw new RangeError("invalid argument. Number of dimensions must not exceed 32767 due to stack limits. Value: `"+u+"`.");if(!si(n))throw new TypeError("invalid argument. `strides` argument must be an array-like object containing integers. Value: `"+n+"`.");if(u>0){if(n.length!==u)throw new RangeError("invalid argument. `strides` argument length must match the number of dimensions. Expected number of dimensions: "+u+". Strides length: "+n.length+".")}else{if(1!==n.length)throw new RangeError("invalid argument. `strides` length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError("invalid argument. `strides` argument must contain a single element equal to `0`. Value: `"+n[0]+"`.")}if(!un(i))throw new TypeError("invalid argument. `offset` argument must be a nonnegative integer. Value: `"+i+"`.");if(!yi(o))throw new TypeError("invalid argument. `order` argument must be a supported order. Value: `"+o+"`.");if(u>0&&!bi(t.length,r,n,i)&&wi(r)>0)throw new Error("invalid arguments. The input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((f={}).mode=Ai,f.readonly=ji,arguments.length>6&&(s=Mi(f,a)))throw s;return this._mode=f.mode,void 0===f.submode&&(f.submode=[this._mode]),this._submode=f.submode,l=Ii(r,u),c=Ii(n,u||1),Lr.call(this,e,t,l,c,i,o),this._flags.READONLY=f.readonly,this}function Yi(e,t){return"column-major"===t?function(e){var t,r,n;for(t=[],r=1,n=0;n<e.length;n++)t.push(r),r*=e[n];return t}(e):function(e){var t,r,n,i;for(t=e.length,r=[],i=0;i<t;i++)r.push(0);for(n=1,i=t-1;i>=0;i--)r[i]=n,n*=e[i];return r}(e)}function Di(e,t,r,n){var i,o;return i=function(e){var t,r;for(t=[],r=0;r<e.length;r++)t.push(e[r]);return t}(t.shape),e(t,o=0===i.length?Fi(r,ri(r,1),[],[0],0,n):Fi(r,ri(r,t.length||wi(i)),i,Yi(i,n),0,n)),o}function Wi(e,t){switch(t){case"same":return e;case"float":return"float64"===e||"float32"===e||"generic"===e?e:"float64";default:throw new Error("invalid option. Unsupported policy for determining an output array data type. Option: `"+t+"`.")}}!function(e,t){var r=vi(e);if(r)throw r;if(r=vi(t))throw r;if(void 0===t.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+t.prototype+"`.");e.prototype=Ti(t.prototype),l(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e})}(Fi,Lr),h(Fi,"name","ndarray"),h(Fi.prototype,"get",(function(){var e,t,r,n;if(arguments.length!==this._ndims)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(e=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!qt(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");t=Oi(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.get(e):this._buffer[e]})),h(Fi.prototype,"iget",(function(e){if(this._ndims>0){if(!qt(e))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+e+"`.");return e=Oi(e,this._length-1,this._mode),xi.call(this,e)}return xi.call(this)})),h(Fi.prototype,"set",(function(){var e,t,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(e=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!qt(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");t=Oi(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.set(arguments[n],e):this._buffer[e]=arguments[n],this})),h(Fi.prototype,"iset",(function(e,t){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!qt(e))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+e+"`.");e=Oi(e,this._length-1,this._mode),Vi.call(this,e,t)}else Vi.call(this,e);return this})),h(Yi,"assign",(function(e,t,r){return"column-major"===t?function(e,t){var r,n;for(r=1,n=0;n<e.length;n++)t[n]=r,r*=e[n];return t}(e,r):function(e,t){var r,n;for(r=1,n=e.length-1;n>=0;n--)t[n]=r,r*=e[n];return t}(e,r)}));var Gi="float";function $i(e,t){var r,n,i,o;if(!Ui(t))return new TypeError("invalid argument. Resolution table must be a plain object. Value: `"+t+"`.");for(r=mr(e),o=0;o<r.length;o++)if(b(t,i=r[o])){if(!Ke(n=t[i])&&null!==n)return new TypeError("invalid argument. Resolution table `"+i+"` field value must be either a function or `null`. Value: `"+n+"`.");e[i]=n}return null}function zi(e,t,r){var n,i,o;if(!ur(e)&&!ne(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!qt(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");(i=r)<0&&(i=0)}else i=0;if(ne(e)){if(!ne(t))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+t+"`.");return-1!==e.indexOf(t,i)}if(n=e.length,Wt(t)){for(o=i;o<n;o++)if(Wt(e[o]))return!0;return!1}for(o=i;o<n;o++)if(e[o]===t)return!0;return!1}var Ji=["same","float"];function Xi(e,t){return Ui(t)?b(t,"output_dtype_policy")&&(e.policy=t.output_dtype_policy,!zi(Ji,e.policy))?new TypeError("invalid option. `output_dtype_policy` option must be a recognized/supported output array data type policy. Option: `"+e.policy+"`."):null:new TypeError("invalid argument. Options argument must be a plain object. Value: `"+t+"`.")}var Zi=br(),qi=kt();function Hi(e,t){return Ui(t)?b(t,"dtype")&&(e.dtype=t.dtype,!zi(qi,e.dtype))?new TypeError("invalid option. `dtype` option must be a recognized/supported data type. Option: `"+e.dtype+"`."):b(t,"order")&&(e.order=t.order,!zi(Zi,e.order))?new TypeError("invalid option. `order` option must be a recognized/supported data type. Option: `"+e.order+"`."):null:new TypeError("invalid argument. Options argument must be a plain object. Value: `"+t+"`.")}var Ki={};return c(Ki,"unary",(function(e,t){var r,n,i,o;if(n=$i(o={number:null,complex:null,array:null,ndarray:null},e))throw n;if(r={policy:Gi},arguments.length>1&&(n=Xi(r,t)))throw n;return h(i=a,"assign",u),i;function a(e,t){var n,i,a,u,f;if(p(e)){if(o.number)return o.number(e);throw new TypeError("invalid argument. Providing a number is not supported.")}if(C(e)){if(o.complex)return o.complex(e);throw new TypeError("invalid argument. Providing a complex number is not supported.")}if(a={},arguments.length>1&&(u=Hi(a,t)))throw u;if(Br(e)){if(null===o.ndarray)throw new TypeError("invalid argument. Providing an ndarray is not supported.");return i=a.dtype||Wi(e.dtype,r.policy),Di(o.ndarray,e,i,a.order||e.order)}if(ur(e)){if(null===o.array)throw new TypeError("invalid argument. Providing an array-like object is not supported.");return n=Xn(e)||"generic",f=ri(i=a.dtype||Wi(n,r.policy),e.length),o.array(e.length,e,1,f,1),f}throw new TypeError("invalid argument. Must provide an argument having a supported data type. Value: `"+e+"`.")}function u(e,t){var r,n,i;if(Br(e)){if(Br(t)){if(r=e.shape,n=t.shape,r.length===n.length){for(i=0;i<r.length;i++)if(r[i]!==n[i]){e=ii(e,n);break}}else e=ii(e,n);return o.ndarray(e,t),t}throw new TypeError("invalid argument. If the first argument is an ndarray, the second argument must be an ndarray.")}if(ur(e)){if(ur(t)){if(t.length!==e.length)throw new RangeError("invalid argument. Output array must have the same number of elements (i.e., length) as the input array.");return o.array(e.length,e,1,t,1),t}throw new TypeError("invalid argument. If the first argument is an array-like object, the second argument must be an array-like object.")}if(p(e))throw new TypeError("invalid argument. Providing a number is not supported. Consider providing a zero-dimensional ndarray containing the numeric value.");if(C(e))throw new TypeError("invalid argument. Providing a complex number is not supported. Consider providing a zero-dimensional ndarray containing the complex number value.");throw new TypeError("invalid argument. Must provide an argument having a supported data type. Value: `"+e+"`.")}})),Ki}));
//# sourceMappingURL=index.js.map
